// Package ui provides UI utilities for terminal interfaces.
package ui

import (
	"strings"
)

// GenerateASCIIArt generates ASCII art from a text string.
// It converts the input text to uppercase and renders it using block characters.
// Returns empty string if the input is empty or contains unsupported characters.
func GenerateASCIIArt(text string) string {
	if text == "" {
		return ""
	}

	text = strings.ToUpper(text)

	// Font definition: Each character is 6 lines tall
	// Using a simple blocky font similar to the FORGE header
	font := map[rune][]string{
		'A': {
			" █████╗ ",
			"██╔══██╗",
			"███████║",
			"██╔══██║",
			"██║  ██║",
			"╚═╝  ╚═╝",
		},
		'B': {
			"██████╗ ",
			"██╔══██╗",
			"██████╔╝",
			"██╔══██╗",
			"██████╔╝",
			"╚═════╝ ",
		},
		'C': {
			" ██████╗",
			"██╔════╝",
			"██║     ",
			"██║     ",
			"╚██████╗",
			" ╚═════╝",
		},
		'D': {
			"██████╗ ",
			"██╔══██╗",
			"██║  ██║",
			"██║  ██║",
			"██████╔╝",
			"╚═════╝ ",
		},
		'E': {
			"███████╗",
			"██╔════╝",
			"█████╗  ",
			"██╔══╝  ",
			"███████╗",
			"╚══════╝",
		},
		'F': {
			"███████╗",
			"██╔════╝",
			"█████╗  ",
			"██╔══╝  ",
			"██║     ",
			"╚═╝     ",
		},
		'G': {
			" ██████╗ ",
			"██╔════╝ ",
			"██║  ███╗",
			"██║   ██║",
			"╚██████╔╝",
			" ╚═════╝ ",
		},
		'H': {
			"██╗  ██╗",
			"██║  ██║",
			"███████║",
			"██╔══██║",
			"██║  ██║",
			"╚═╝  ╚═╝",
		},
		'I': {
			"██╗",
			"██║",
			"██║",
			"██║",
			"██║",
			"╚═╝",
		},
		'J': {
			"     ██╗",
			"     ██║",
			"     ██║",
			"██   ██║",
			"╚█████╔╝",
			" ╚════╝ ",
		},
		'K': {
			"██╗  ██╗",
			"██║ ██╔╝",
			"█████╔╝ ",
			"██╔═██╗ ",
			"██║  ██╗",
			"╚═╝  ╚═╝",
		},
		'L': {
			"██╗     ",
			"██║     ",
			"██║     ",
			"██║     ",
			"███████╗",
			"╚══════╝",
		},
		'M': {
			"███╗   ███╗",
			"████╗ ████║",
			"██╔████╔██║",
			"██║╚██╔╝██║",
			"██║ ╚═╝ ██║",
			"╚═╝     ╚═╝",
		},
		'N': {
			"███╗   ██╗",
			"████╗  ██║",
			"██╔██╗ ██║",
			"██║╚██╗██║",
			"██║ ╚████║",
			"╚═╝  ╚═══╝",
		},
		'O': {
			" ██████╗ ",
			"██╔═══██╗",
			"██║   ██║",
			"██║   ██║",
			"╚██████╔╝",
			" ╚═════╝ ",
		},
		'P': {
			"██████╗ ",
			"██╔══██╗",
			"██████╔╝",
			"██╔═══╝ ",
			"██║     ",
			"╚═╝     ",
		},
		'Q': {
			" ██████╗ ",
			"██╔═══██╗",
			"██║   ██║",
			"██║▄▄ ██║",
			"╚██████╔╝",
			" ╚══▀▀═╝ ",
		},
		'R': {
			"██████╗ ",
			"██╔══██╗",
			"██████╔╝",
			"██╔══██╗",
			"██║  ██║",
			"╚═╝  ╚═╝",
		},
		'S': {
			"███████╗",
			"██╔════╝",
			"███████╗",
			"╚════██║",
			"███████║",
			"╚══════╝",
		},
		'T': {
			"████████╗",
			"╚══██╔══╝",
			"   ██║   ",
			"   ██║   ",
			"   ██║   ",
			"   ╚═╝   ",
		},
		'U': {
			"██╗   ██╗",
			"██║   ██║",
			"██║   ██║",
			"██║   ██║",
			"╚██████╔╝",
			" ╚═════╝ ",
		},
		'V': {
			"██╗   ██╗",
			"██║   ██║",
			"██║   ██║",
			"╚██╗ ██╔╝",
			" ╚████╔╝ ",
			"  ╚═══╝  ",
		},
		'W': {
			"██╗    ██╗",
			"██║    ██║",
			"██║ █╗ ██║",
			"██║███╗██║",
			"╚███╔███╔╝",
			" ╚══╝╚══╝ ",
		},
		'X': {
			"██╗  ██╗",
			"╚██╗██╔╝",
			" ╚███╔╝ ",
			" ██╔██╗ ",
			"██╔╝ ██╗",
			"╚═╝  ╚═╝",
		},
		'Y': {
			"██╗   ██╗",
			"╚██╗ ██╔╝",
			" ╚████╔╝ ",
			"  ╚██╔╝  ",
			"   ██║   ",
			"   ╚═╝   ",
		},
		'Z': {
			"███████╗",
			"╚══███╔╝",
			"  ███╔╝ ",
			" ███╔╝  ",
			"███████╗",
			"╚══════╝",
		},
		'0': {
			" ██████╗ ",
			"██╔═████╗",
			"██║██╔██║",
			"████╔╝██║",
			"╚██████╔╝",
			" ╚═════╝ ",
		},
		'1': {
			" ██╗",
			"███║",
			"╚██║",
			" ██║",
			" ██║",
			" ╚═╝",
		},
		'2': {
			"██████╗ ",
			"╚════██╗",
			" █████╔╝",
			"██╔═══╝ ",
			"███████╗",
			"╚══════╝",
		},
		'3': {
			"██████╗ ",
			"╚════██╗",
			" █████╔╝",
			" ╚═══██╗",
			"██████╔╝",
			"╚═════╝ ",
		},
		'4': {
			"██╗  ██╗",
			"██║  ██║",
			"███████║",
			"╚════██║",
			"     ██║",
			"     ╚═╝",
		},
		'5': {
			"███████╗",
			"██╔════╝",
			"███████╗",
			"╚════██║",
			"███████║",
			"╚══════╝",
		},
		'6': {
			" ██████╗ ",
			"██╔════╝ ",
			"███████╗ ",
			"██╔═══██╗",
			"╚██████╔╝",
			" ╚═════╝ ",
		},
		'7': {
			"███████╗",
			"╚════██║",
			"    ██╔╝",
			"   ██╔╝ ",
			"   ██║  ",
			"   ╚═╝  ",
		},
		'8': {
			" ██████╗ ",
			"██╔═══██╗",
			"╚█████╔╝ ",
			"██╔═══██╗",
			"╚██████╔╝",
			" ╚═════╝ ",
		},
		'9': {
			" ██████╗ ",
			"██╔═══██╗",
			"╚██████╔╝",
			" ╚═════╝ ",
			"  █████╗ ",
			"  ╚════╝ ",
		},
		' ': {
			"   ",
			"   ",
			"   ",
			"   ",
			"   ",
			"   ",
		},
		'-': {
			"        ",
			"        ",
			"███████╗",
			"╚══════╝",
			"        ",
			"        ",
		},
		'_': {
			"        ",
			"        ",
			"        ",
			"        ",
			"███████╗",
			"╚══════╝",
		},
	}

	// Build the output line by line
	var lines [6]strings.Builder

	for _, char := range text {
		charLines, exists := font[char]
		if !exists {
			// Skip unsupported characters
			continue
		}

		for i := 0; i < 6; i++ {
			lines[i].WriteString(charLines[i])
		}
	}

	// Join all lines with newlines and add indentation
	var result strings.Builder
	result.WriteString("\n")
	for i := 0; i < 6; i++ {
		result.WriteString("\t")
		result.WriteString(lines[i].String())
		if i < 5 {
			result.WriteString("\n")
		}
	}

	return result.String()
}
